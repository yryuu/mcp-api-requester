# セキュリティとリスク管理

このMCPサーバーは、LLM（大規模言語モデル）に代わって任意のHTTPリクエストを実行する機能を提供します。非常に強力な機能ですが、同時にセキュリティ上のリスクも伴います。以下の点に十分に注意して使用してください。

## 重大なセキュリティリスク

### 1. SSRF (Server-Side Request Forgery)
このサーバーは、LLMが指定したURLに対してリクエストを送信します。悪意のあるプロンプトや、予期せぬLLMの挙動により、以下のような内部リソースへのアクセスが発生する可能性があります。

- **ローカルホストへのアクセス**: `http://localhost:8080`, `http://127.0.0.1:3000` など、開発中のサーバーやローカルで動作しているサービスへのアクセス。
- **プライベートIPへのアクセス**: `http://192.168.1.1` (ルーター設定画面) や `http://10.0.0.1` などのイントラネット内リソースへのアクセス。
- **クラウドメタデータサービスへのアクセス**: AWSやGCP環境で動作させる場合、メタデータサーバー (`http://169.254.169.254`) へアクセスして認証情報を盗み出そうとする攻撃。

### 2. 認証情報の流出
LLMにAPIキーやトークンをヘッダーとして渡すよう指示した場合、そのトークンがLLMのコンテキスト（履歴）に残ります。これらの情報がログとして保存されたり、外部のモデルプロバイダーに送信されたりする可能性があります。

## 推奨される運用方法

### ✅ 安全な環境での使用
- このサーバーは、**信頼できるローカル環境**での個人的な使用を想定しています。
- 公開サーバーや、不特定多数がアクセスできる環境では**絶対に使用しないでください**。

### ✅ 内部ネットワークの保護
- 可能であれば、Dockerコンテナなどのネットワーク的に隔離された環境でこのサーバーを実行することを検討してください。

### ✅ 機密情報の扱い
- 本番環境のAPIキーや、重要な個人情報を含むデータのやり取りには極力使用しないでください。
- テスト用のアカウントや、権限を制限したAPIキーを使用してください。

## 免責事項
このソフトウェアの使用によって生じた、データの損失、セキュリティ侵害、またはその他の損害について、作者は一切の責任を負いません。ユーザー自身の責任において、セキュリティリスクを理解した上で使用してください。
